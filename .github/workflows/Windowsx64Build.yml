name: Windows Build


 env:
  VCPKG_ROOT: ${{ github.workspace }}/vcpkg
  VCPKG_DEFAULT_TRIPLET: x64-windows

jobs:
  build:
    steps:
      - name: Setup VCPKG
        run: |
          git clone https://github.com/Microsoft/vcpkg
          cd vcpkg
          ./bootstrap-vcpkg.sh
          echo "VCPKG_ROOT=$(pwd)" >> $GITHUB_ENV

      - name: Install Dependencies
        run: |
          cd vcpkg
          ./vcpkg install \
            opus[multistream]:${{ env.VCPKG_DEFAULT_TRIPLET }} \
            --overlay-triplets=custom_triplets \
            --keep-going
